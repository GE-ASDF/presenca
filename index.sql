SELECT DataPresenca, DiaSemana,
SUM(CASE WHEN HoraPresenca = '08:00' THEN 1 ELSE 0 END) AS '08:00',
SUM(CASE WHEN HoraPresenca = '09:00' THEN 1 ELSE 0 END) AS '09:00',
SUM(CASE WHEN HoraPresenca = '10:00' THEN 1 ELSE 0 END) AS '10:00',
SUM(CASE WHEN HoraPresenca = '11:00' THEN 1 ELSE 0 END) AS '11:00',
SUM(CASE WHEN HoraPresenca = '12:00' THEN 1 ELSE 0 END) AS '12:00',
SUM(CASE WHEN HoraPresenca = '13:00' THEN 1 ELSE 0 END) AS '13:00',
SUM(CASE WHEN HoraPresenca = '14:00' THEN 1 ELSE 0 END) AS '14:00',
SUM(CASE WHEN HoraPresenca = '15:00' THEN 1 ELSE 0 END) AS '15:00',
SUM(CASE WHEN HoraPresenca = '16:00' THEN 1 ELSE 0 END) AS '16:00',
SUM(CASE WHEN HoraPresenca = '17:00' THEN 1 ELSE 0 END) AS '17:00',
SUM(CASE WHEN HoraPresenca = '18:00' THEN 1 ELSE 0 END) AS '18:00',
SUM(CASE WHEN HoraPresenca = '19:00' THEN 1 ELSE 0 END) AS '19:00'
FROM presencas GROUP BY DataPresenca, DiaSemana
ORDER BY DataPresenca, HoraPresenca